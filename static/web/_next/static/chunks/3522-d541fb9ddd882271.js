(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3522],{21987:function(e,t,o){"use strict";var n=o(75263).default,r=o(64836).default;t.Z=void 0;var s=r(o(10434)),i=n(o(67294)),a=r(o(28460)),c=i.forwardRef(function(e,t){return i.createElement(a.default,(0,s.default)({ref:t},e,{component:"div"}))});t.Z=c},3522:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return T}});var n=o(85893),r=o(67294),s=o(54907),i=o(15746),a=o(26713),c=o(71230),l=o(22918),d=o(71577),u=o(21987),m=o(11700),h=o(84485),p=o(87685),x=o(58909),v=o(61426),g=o(99519),j=o(90745),f=o(41983),C=o(39664);let{Title:k}=h.Z,S=()=>{let[e,t]=(0,r.useState)("/* Enter custom CSS here */"),[o,s]=(0,r.useState)(null),[i,a]=(0,r.useState)(!1),c=(0,r.useContext)(g.aC),{serverConfig:l,setFieldInConfigState:u}=c||{},{instanceDetails:m}=l,{customStyles:h}=m,S=null,b=()=>{s(null),a(!1),clearTimeout(S),S=null};async function y(){s((0,f.kg)(f.Jk)),await (0,j.Si)({apiPath:j.d$,data:{value:e},onSuccess(t){u({fieldName:"customStyles",value:e,path:"instanceDetails"}),s((0,f.kg)(f.zv,t))},onError(e){s((0,f.kg)(f.Un,e))}}),S=setTimeout(b,j.sI)}(0,r.useEffect)(()=>{t(h)},[m]);let Z=r.useCallback(e=>{t(e),e===h||i?e===h&&i&&a(!1):a(!0)},[]);return(0,n.jsxs)("div",{className:"edit-custom-css",children:[(0,n.jsx)(k,{level:3,className:"section-title",children:"Customize your page styling with CSS"}),(0,n.jsxs)("p",{className:"description",children:["Customize the look and feel of your Owncast instance by overriding the CSS styles of various components on the page. Refer to the"," ",(0,n.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"CSS & Components guide"}),"."]}),(0,n.jsx)("p",{className:"description",children:"Please input plain CSS text, as this will be directly injected onto your page during load."}),(0,n.jsx)(p.ZP,{value:e,placeholder:"/* Enter custom CSS here */",theme:x.F,height:"200px",extensions:[(0,v.css)()],onChange:Z}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"page-content-actions",children:[i&&(0,n.jsx)(d.Z,{type:"primary",onClick:y,children:"Save"}),(0,n.jsx)(C.E,{status:o})]})]})};var b=o(63402),y=o.n(b);let{Panel:Z}=s.Z,E="/appearance";function w(e){let{value:t,name:o,description:r,onChange:s}=e;return(0,n.jsxs)(i.Z,{span:3,children:[(0,n.jsx)("input",{type:"color",id:o,name:r,title:r,value:t,className:y().colorPicker,onChange:e=>s(o,e.target.value,r)}),(0,n.jsx)("div",{style:{padding:"2px"},children:r})]},o)}function T(){var e,t,o;let h=(0,r.useContext)(g.aC),{serverConfig:p}=h||{},{instanceDetails:x}=p,{appearanceVariables:v}=x,k=[{name:"theme-color-users-0",description:""},{name:"theme-color-users-1",description:""},{name:"theme-color-users-2",description:""},{name:"theme-color-users-3",description:""},{name:"theme-color-users-4",description:""},{name:"theme-color-users-5",description:""},{name:"theme-color-users-6",description:""},{name:"theme-color-users-7",description:""}],b=[{name:"theme-color-palette-0",description:""},{name:"theme-color-palette-1",description:""},{name:"theme-color-palette-2",description:""},{name:"theme-color-palette-3",description:""},{name:"theme-color-palette-4",description:""},{name:"theme-color-palette-5",description:""},{name:"theme-color-palette-6",description:""},{name:"theme-color-palette-7",description:""},{name:"theme-color-palette-8",description:""},{name:"theme-color-palette-9",description:""},{name:"theme-color-palette-10",description:""},{name:"theme-color-palette-11",description:""},{name:"theme-color-palette-12",description:""}],y=[{name:"theme-color-background-main",description:"Background"},{name:"theme-color-action",description:"Action"},{name:"theme-color-action-hover",description:"Action Hover"},{name:"theme-color-components-chat-background",description:"Chat Background"},{name:"theme-color-components-chat-text",description:"Text: Chat"},{name:"theme-color-components-text-on-dark",description:"Text: Light"},{name:"theme-color-components-text-on-light",description:"Text: Dark"},{name:"theme-color-background-header",description:"Header/Footer"},{name:"theme-color-components-content-background",description:"Page Content"},{name:"theme-color-components-scrollbar-background",description:"Scrollbar Background"},{name:"theme-color-components-scrollbar-thumb",description:"Scrollbar Thumb"}],T=[{name:"theme-rounded-corners",description:"Corner radius"}],[N,P]=(0,r.useState)(),[z,_]=(0,r.useState)(null),U=()=>{_(null),clearTimeout(null)},I=()=>{let e={};[...b,...y,...k,...T].forEach(t=>{let o=getComputedStyle(document.documentElement).getPropertyValue("--".concat(t.name));e[t.name]={value:o.trim(),description:t.description}}),P(e)};(0,r.useEffect)(()=>{I()},[]),(0,r.useEffect)(()=>{if(!v||!N)return;let e=N;Object.keys(v).forEach(t=>{var o;e[t]={value:v[t],description:(null===(o=N[t])||void 0===o?void 0:o.description)||""}}),P(e)},[v]);let A=(e,t,o)=>{P({...N,[e]:{value:t,description:o}})},O=async()=>{await (0,j.Si)({apiPath:E,data:{value:{}},onSuccess(){_((0,f.kg)(f.zv,"Updated.")),setTimeout(U,j.sI),I()},onError(e){_((0,f.kg)(f.Un,e)),setTimeout(U,j.sI)}})},R=async()=>{let e={};Object.keys(N).forEach(t=>{e[t]=N[t].value}),await (0,j.Si)({apiPath:E,data:{value:e},onSuccess(){_((0,f.kg)(f.zv,"Updated.")),setTimeout(U,j.sI)},onError(e){_((0,f.kg)(f.Un,e)),setTimeout(U,j.sI)}})};if(!N)return(0,n.jsx)("div",{children:"Loading..."});let B=e=>{A("theme-rounded-corners","".concat(e.toString(),"px"),"")};return(0,n.jsxs)(a.Z,{direction:"vertical",children:[(0,n.jsx)(m.Z,{children:"Customize Appearance"}),(0,n.jsx)(u.Z,{children:"The following colors are used across the user interface."}),(0,n.jsx)("div",{children:(0,n.jsxs)(s.Z,{defaultActiveKey:["1"],children:[(0,n.jsxs)(Z,{header:(0,n.jsx)(m.Z,{level:3,children:"Section Colors"}),children:[(0,n.jsx)("p",{children:"Certain sections of the interface can be customized by selecting new colors for them."}),(0,n.jsx)(c.Z,{gutter:[16,16],children:y.map(e=>{let{name:t}=e,o=N[t];return(0,n.jsx)(w,{value:o.value,name:t,description:o.description,onChange:A},t)})})]},"1"),(0,n.jsx)(Z,{header:(0,n.jsx)(m.Z,{level:3,children:"Chat User Colors"}),children:(0,n.jsx)(c.Z,{gutter:[16,16],children:k.map(e=>{let{name:t}=e,o=N[t];return(0,n.jsx)(w,{value:o.value,name:t,description:o.description,onChange:A},t)})})},"2"),(0,n.jsx)(Z,{header:(0,n.jsx)(m.Z,{level:3,children:"Theme Colors"}),children:(0,n.jsx)(c.Z,{gutter:[16,16],children:b.map(e=>{let{name:t}=e,o=N[t];return(0,n.jsx)(w,{value:o.value,name:t,description:o.description,onChange:A},t)})})},"3"),(0,n.jsxs)(Z,{header:(0,n.jsx)(m.Z,{level:3,children:"Other Settings"}),children:["How rounded should corners be?",(0,n.jsxs)(c.Z,{gutter:[16,16],children:[(0,n.jsx)(i.Z,{span:12,children:(0,n.jsx)(l.Z,{min:0,max:20,tooltip:{formatter:null},onChange(e){B(e)},value:Number((null===(e=N["theme-rounded-corners"])||void 0===e?void 0:null===(t=e.value)||void 0===t?void 0:t.replace("px",""))||0)})}),(0,n.jsx)(i.Z,{span:4,children:(0,n.jsx)("div",{style:{width:"100px",height:"30px",borderRadius:"".concat(null===(o=N["theme-rounded-corners"])||void 0===o?void 0:o.value),backgroundColor:"var(--theme-color-palette-7)"}})})]})]},"4")]})}),(0,n.jsxs)(a.Z,{direction:"horizontal",children:[(0,n.jsx)(d.Z,{type:"primary",onClick:R,children:"Save Colors"}),(0,n.jsx)(d.Z,{type:"ghost",onClick:O,children:"Reset to Defaults"})]}),(0,n.jsx)(C.E,{status:z}),(0,n.jsx)("div",{className:"form-module page-content-module",children:(0,n.jsx)(S,{})})]})}},63402:function(e){e.exports={colorPicker:"appearance_colorPicker__9g3hl"}}}]);